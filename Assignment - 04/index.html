<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thatis - Recipe Site</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      /* Global Style */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background-color: #f8f9fa;
      }

      /* Loading Spinner */
      .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .spinner {
        width: 50px;
        height: 50px;
        border: 5px solid #f3f3f3;
        border-top: 5px solid #ffc107;
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Logo */
      .logo {
        width: 160px;
        height: 60px;
        padding: auto;
        background-repeat: no-repeat;
        background-size: contain;
        background-position: center;
      }

      /* Header */
      .header {
        background-color: white;
        padding: 20px 0;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .logo-container {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-container img {
        max-height: 60px;
        max-width: 200px;
      }

      /* Hero Section */
      .hero-section {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
          url(./images/page-title.jpg);
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        padding: 100px 0;
        text-align: center;
        color: white;
        min-height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .hero-content {
        width: 100%;
        padding: 0 15px;
      }

      .hero-section h1 {
        font-size: 3.5rem;
        font-weight: bold;
        margin-bottom: 15px;
        line-height: 1.2;
      }

      .hero-section p {
        font-size: 1.1rem;
        margin-bottom: 50px;
        opacity: 0.9;
      }

      /* Search Bar  */
      .search-container {
        max-width: 700px;
        margin: 0 auto;
        position: relative;
      }

      .search-container input {
        width: 100%;
        padding: 18px 70px 18px 25px;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .search-container input:focus {
        outline: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .search-btn {
        position: absolute;
        right: 8px;
        top: 8px;
        background: #ffc107;
        border: none;
        padding: 12px 20px;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .search-btn:hover {
        background: #ffb300;
      }

      /* Latest Recipes Section  */
      .recipes-section {
        padding: 60px 0;
      }

      .section-title {
        text-align: center;
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 50px;
        color: #333;
      }

      /* Recipe Cards */
      .recipe-card {
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.3s;
        margin-bottom: 30px;
        cursor: pointer;
        height: 100%;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      .recipe-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0 20px rgba(255, 193, 7, 0.6),
          0 6px 12px rgba(0, 0, 0, 0.15);
      }

      .recipe-card img {
        width: 100%;
        height: 220px;
        object-fit: cover;
      }

      .recipe-card-body {
        padding: 20px;
        padding-bottom: 60px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      .recipe-card-body h3 {
        font-size: 1.4rem;
        margin-bottom: 10px;
        color: #333;
      }

      .recipe-card-body p {
        font-size: 0.85rem;
        color: #666;
        line-height: 1.5;
        margin-bottom: 15px;
        flex-grow: 1;
      }

      /* View Details Button - Fixed to Bottom Right */
      .view-details-btn {
        position: absolute;
        bottom: 20px;
        right: 20px;
        background: #ffc107;
        color: #333;
        border: none;
        padding: 8px 16px;
        border-radius: 5px;
        font-weight: bold;
        font-size: 0.75rem;
        cursor: pointer;
        transition: background 0.3s;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .view-details-btn:hover {
        background: #ffb300;
      }

      /*  Ensure Equal Height Cards  */
      .card-col {
        display: flex;
      }

      /* No Data Found */
      .no-data {
        text-align: center;
        padding: 100px 0;
        font-size: 2rem;
        color: #999;
        width: 100%;
      }

      /* Modal  */
      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        overflow-y: auto;
        padding: 20px;
      }

      .modal-content {
        background: white;
        max-width: 800px;
        margin: 50px auto;
        border-radius: 10px;
        padding: 40px;
        position: relative;
        padding-bottom: 100px;
      }

      .modal-content img {
        width: 100%;
        max-height: 400px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .modal-content h2 {
        font-size: 2rem;
        margin-bottom: 15px;
        color: #333;
      }

      .modal-info {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .modal-info span {
        background: #f8f9fa;
        padding: 8px 15px;
        border-radius: 5px;
        font-size: 0.9rem;
      }

      .ingredients-section {
        margin: 30px 0;
      }

      .ingredients-section h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: #333;
      }

      .ingredients-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 10px;
        margin-bottom: 30px;
      }

      .ingredient-item {
        background: #f8f9fa;
        padding: 10px;
        border-radius: 5px;
        font-size: 0.9rem;
      }

      .instructions-section {
        margin-bottom: 50px;
      }

      .instructions-section h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: #333;
      }

      .instructions-section p {
        line-height: 1.8;
        color: #555;
      }

      .close-modal-btn {
        position: absolute;
        bottom: 30px;
        right: 30px;
        background: #ffc107;
        color: #333;
        border: none;
        padding: 10px 25px;
        border-radius: 5px;
        font-weight: bold;
        font-size: 0.9rem;
        cursor: pointer;
        transition: background 0.3s;
      }

      .close-modal-btn:hover {
        background: #ffb300;
      }

      /*  Scroll to Top Button  */
      .scroll-top-btn {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: #ffc107;
        color: white;
        width: 27px;
        height: 27px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        display: none;
        justify-content: center;
        align-items: center;
        font-size: 1.2rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        transition: background 0.3s;
        z-index: 999;
      }

      .scroll-top-btn:hover {
        background: #ffb300;
      }

      /* Footer */
      .footer {
        background: #333;
        color: white;
        padding: 25px 0;
      }

      .footer-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 15px;
      }

      .footer-left {
        font-size: 0.95rem;
      }

      .footer-icons {
        display: flex;
        gap: 20px;
      }

      .footer-icons a {
        color: white;
        font-size: 1.3rem;
        text-decoration: none;
        transition: color 0.3s;
      }

      .footer-icons a:hover {
        color: #ffc107;
      }

      /* ===== RESPONSIVE DESIGN ===== */

      /*  Mobile Devices (up to 576px) */
      @media (max-width: 576px) {
        .hero-section {
          padding: 60px 0;
          min-height: 350px;
        }

        .hero-section h1 {
          font-size: 2rem;
        }

        .hero-section p {
          font-size: 0.9rem;
          margin-bottom: 30px;
        }

        .section-title {
          font-size: 1.8rem;
          margin-bottom: 30px;
        }

        .recipe-card img {
          height: 180px;
        }

        .recipe-card-body {
          padding: 15px;
          padding-bottom: 55px;
        }

        .recipe-card-body h3 {
          font-size: 1.1rem;
        }

        .recipe-card-body p {
          font-size: 0.8rem;
        }

        .view-details-btn {
          bottom: 15px;
          right: 15px;
          padding: 6px 12px;
          font-size: 0.7rem;
        }

        .modal-content {
          padding: 25px;
          padding-bottom: 80px;
          margin: 20px auto;
        }

        .modal-content h2 {
          font-size: 1.5rem;
        }

        .modal-info {
          gap: 10px;
        }

        .modal-info span {
          font-size: 0.8rem;
          padding: 6px 10px;
        }

        .ingredients-list {
          grid-template-columns: 1fr;
        }

        .close-modal-btn {
          bottom: 20px;
          right: 20px;
          padding: 8px 20px;
        }

        .scroll-top-btn {
          width: 35px;
          height: 35px;
          bottom: 20px;
          right: 20px;
        }

        .search-container input {
          padding: 15px 60px 15px 20px;
          font-size: 0.9rem;
        }

        .search-btn {
          padding: 10px 15px;
        }
      }

      /* Tablets (577px to 768px)  */
      @media (min-width: 577px) and (max-width: 768px) {
        .hero-section h1 {
          font-size: 2.5rem;
        }

        .hero-section p {
          font-size: 1rem;
        }

        .section-title {
          font-size: 2rem;
        }

        .recipe-card img {
          height: 200px;
        }

        .recipe-card-body h3 {
          font-size: 1.2rem;
        }

        .modal-content {
          padding: 30px;
          padding-bottom: 90px;
        }

        .ingredients-list {
          grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        }
      }

      /* Small Tablets & Large Phones (769px to 992px */
      @media (min-width: 769px) and (max-width: 992px) {
        .hero-section h1 {
          font-size: 3rem;
        }

        .section-title {
          font-size: 2.2rem;
        }

        .recipe-card img {
          height: 210px;
        }

        .recipe-card-body h3 {
          font-size: 1.3rem;
        }
      }

      /*  Desktop (993px to 1200px) */
      @media (min-width: 993px) and (max-width: 1200px) {
        .hero-section h1 {
          font-size: 3.2rem;
        }
      }

      /*  Large Desktop (1201px to 1400px) */
      @media (min-width: 1201px) and (max-width: 1400px) {
        .container {
          max-width: 1140px;
        }
      }

      /* Extra Large Desktop (above 1400px)  */
      @media (min-width: 1401px) {
        .container {
          max-width: 1320px;
        }

        .hero-section h1 {
          font-size: 4rem;
        }

        .section-title {
          font-size: 3rem;
        }

        .recipe-card img {
          height: 250px;
        }

        .recipe-card-body h3 {
          font-size: 1.5rem;
        }
      }

      /* Common Responsive Adjustments */
      @media (max-width: 768px) {
        .footer-content {
          flex-direction: column;
          gap: 15px;
          text-align: center;
        }

        .footer-left {
          font-size: 0.85rem;
        }

        .footer-icons a {
          font-size: 1.2rem;
        }
      }

      /*  Grid Column Adjustments */
      @media (max-width: 576px) {
        .card-col {
          flex: 0 0 100%;
          max-width: 100%;
        }
      }

      @media (min-width: 577px) and (max-width: 768px) {
        .card-col {
          flex: 0 0 50%;
          max-width: 50%;
        }
      }

      @media (min-width: 769px) and (max-width: 992px) {
        .card-col {
          flex: 0 0 33.333%;
          max-width: 33.333%;
        }
      }
    </style>
  </head>
  <body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="spinner"></div>
    </div>

    <!-- Header -->
    <div class="logo-container">
      <div class="logo">
        <img src="./images/logo.png" alt="Company_Logo" />
      </div>
    </div>

    <!-- Hero Section -->
    <div class="hero-section" id="heroSection">
      <div class="hero-content">
        <h1>Search Your<br />Favorite Recipe</h1>
        <p>
          A handful of simple ingredients typify the fresh, vibrant<br
            class="d-none d-md-block"
          />flavors of Greek cooking
        </p>
        <div class="search-container">
          <input type="text" id="searchInput" placeholder="Search..." />
          <button class="search-btn" onclick="searchRecipes()">
            <svg width="20" height="20" fill="white" viewBox="0 0 24 24">
              <path
                d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Latest Recipes Section -->
    <div class="recipes-section">
      <div class="container">
        <h2 class="section-title">Latest Recipes</h2>
        <div class="row g-4" id="recipesContainer"></div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal-content" id="modalContent"></div>
    </div>

    <!-- Scroll to Top Button -->
    <button class="scroll-top-btn" id="scrollTopBtn" onclick="scrollToTop()">
      ↑
    </button>

    <!-- Footer -->
    <div class="footer">
      <div class="footer-content">
        <div class="footer-left">Copyright © 2025 - All right reserved</div>
        <div class="footer-icons">
          <a href="#" aria-label="X (Twitter)">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
              />
            </svg>
          </a>
          <a href="#" aria-label="YouTube">
            <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
              />
            </svg>
          </a>
          <a href="#" aria-label="Facebook">
            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"
              />
            </svg>
          </a>
        </div>
      </div>
    </div>

    <script>
      let currentRecipes = [];

      //  Show Loading Function
      function showLoading() {
        document.getElementById("loadingOverlay").style.display = "flex";
      }

      //  Hide Loading Function
      function hideLoading() {
        setTimeout(() => {
          document.getElementById("loadingOverlay").style.display = "none";
        }, 300);
      }

      //  Fetch Recipes from API
      async function fetchRecipes(searchTerm = "") {
        showLoading();
        try {
          const url = `https://www.themealdb.com/api/json/v1/1/search.php?s=${searchTerm}`;
          const response = await fetch(url);
          const data = await response.json();
          currentRecipes = data.meals;
          displayRecipes(currentRecipes);
        } catch (error) {
          console.error("Error fetching recipes:", error);
          document.getElementById("recipesContainer").innerHTML =
            '<div class="no-data">Error loading recipes</div>';
        }
        hideLoading();
      }

      //  Display Recipes in Grid
      function displayRecipes(recipes) {
        const container = document.getElementById("recipesContainer");

        if (!recipes || recipes.length === 0) {
          container.innerHTML = '<div class="no-data">No Data Found!</div>';
          return;
        }

        container.innerHTML = "";
        recipes.forEach((recipe) => {
          const col = document.createElement("div");
          col.className = "col-md-3 card-col";

          const card = document.createElement("div");
          card.className = "recipe-card";
          card.onclick = () => showRecipeDetails(recipe.idMeal);

          card.innerHTML = `
                    <img src="${recipe.strMealThumb}" alt="${recipe.strMeal}">
                    <div class="recipe-card-body">
                        <h3>${recipe.strMeal}</h3>
                        <p>${recipe.strInstructions.substring(0, 100)}...</p>
                        <button class="view-details-btn">View Details</button>
                    </div>
                `;

          col.appendChild(card);
          container.appendChild(col);
        });
      }

      //  Search Recipes Function
      function searchRecipes() {
        const searchTerm = document.getElementById("searchInput").value.trim();
        fetchRecipes(searchTerm);
      }

      //  Search on Enter Key Press
      document
        .getElementById("searchInput")
        .addEventListener("keypress", (e) => {
          if (e.key === "Enter") {
            searchRecipes();
          }
        });

      // Show Recipe Details in Modal
      async function showRecipeDetails(id) {
        showLoading();
        try {
          const response = await fetch(
            `https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`
          );
          const data = await response.json();
          const recipe = data.meals[0];

          // Get ingredients list
          const ingredients = [];
          for (let i = 1; i <= 20; i++) {
            const ingredient = recipe[`strIngredient${i}`];
            const measure = recipe[`strMeasure${i}`];
            if (ingredient && ingredient.trim()) {
              ingredients.push(`${measure} ${ingredient}`);
            }
          }

          const modalContent = document.getElementById("modalContent");
          modalContent.innerHTML = `
                    <img src="${recipe.strMealThumb}" alt="${recipe.strMeal}">
                    <h2>${recipe.strMeal}</h2>
                    <div class="modal-info">
                        <span><strong>Category:</strong> ${
                          recipe.strCategory
                        }</span>
                        <span><strong>Area:</strong> ${recipe.strArea}</span>
                        ${
                          recipe.strTags
                            ? `<span><strong>Tags:</strong> ${recipe.strTags}</span>`
                            : ""
                        }
                    </div>
                    <div class="ingredients-section">
                        <h3>Ingredients</h3>
                        <div class="ingredients-list">
                            ${ingredients
                              .map(
                                (ing) =>
                                  `<div class="ingredient-item">${ing}</div>`
                              )
                              .join("")}
                        </div>
                    </div>
                    <div class="instructions-section">
                        <h3>Instructions</h3>
                        <p>${recipe.strInstructions}</p>
                    </div>
                    <button class="close-modal-btn" onclick="closeModal()">Close</button>
                `;

          document.getElementById("modalOverlay").style.display = "block";
        } catch (error) {
          console.error("Error fetching recipe details:", error);
        }
        hideLoading();
      }

      //  Close Modal Function
      function closeModal() {
        document.getElementById("modalOverlay").style.display = "none";
      }

      // Close Modal on Overlay Click
      document.getElementById("modalOverlay").addEventListener("click", (e) => {
        if (e.target.id === "modalOverlay") {
          closeModal();
        }
      });

      //  Scroll to Top Function
      function scrollToTop() {
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      //  Show/Hide Scroll to Top Button
      window.addEventListener("scroll", () => {
        const scrollBtn = document.getElementById("scrollTopBtn");
        if (window.pageYOffset > 300) {
          scrollBtn.style.display = "flex";
        } else {
          scrollBtn.style.display = "none";
        }
      });

      //  Initial Load - Fetch All Recipes
      fetchRecipes();
    </script>
  </body>
</html>

